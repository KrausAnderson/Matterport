<html>
  <head>
    <script src='https://static.matterport.com/showcase-sdk/latest.js'></script>
  </head>
  <body>
    <iframe
      width="853"
      height="480"
      src="https://my.matterport.com/show?m=SxQL3iGyoDo&play=1&applicationKey=2tgayhuxga67cwfg3kqhckpta"
      frameborder="0"
      allow="fullscreen; vr"
      id="showcase-iframe">
    </iframe>
    <img 
      src="kraus.png"
      style="display: none;"
      id="logo"
    >

    <script>
      (async function connectSdk() {
        const sdkKey = '2tgayhuxga67cwfg3kqhckpta';
        const iframe = document.getElementById('showcase-iframe');

        try {
          const mpSdk = await window.MP_SDK.connect(
            iframe, // Obtained earlier
            sdkKey, // Your SDK key
            '' // Unused but needs to be a valid string
          );

          onShowcaseConnect(mpSdk);

        } catch (e) {
          console.error(e);
        }
      })();

      async function onShowcaseConnect(sdk) {
        console.log("Connected!");
        sdk.App.state.subscribe(function(appState){
          if(appState.phase === "appphase.starting"){
            showLogo();
          }
        });
      }

      function showLogo(){
        const logo = document.getElementById('logo');
        logo.style = "display: block;";
      }

    </script>
  <body>
</html>
